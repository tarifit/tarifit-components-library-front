<!-- Bootstrap Auth Modal -->
<div class="modal fade"
     [class.show]="isVisible"
     [class.d-block]="isVisible"
     [class.d-none]="!isVisible"
     tabindex="-1"
     (keydown)="onKeyDown($event)">

  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">

      <!-- Modal Header with Tabs -->
      <div class="modal-header border-0 pb-0">
        <ul class="nav nav-tabs w-100 border-0" role="tablist">
          <li class="nav-item flex-fill">
            <button class="nav-link w-100 d-flex align-items-center justify-content-center gap-2"
                    [class.active]="currentTab === 'login'"
                    (click)="switchToLogin()"
                    type="button">
              <i class="fas fa-sign-in-alt"></i>
              Login
            </button>
          </li>
          <li class="nav-item flex-fill">
            <button class="nav-link w-100 d-flex align-items-center justify-content-center gap-2"
                    [class.active]="currentTab === 'register'"
                    (click)="switchToRegister()"
                    type="button">
              <i class="fas fa-user-plus"></i>
              Register
            </button>
          </li>
        </ul>

        <button type="button"
                class="btn-close position-absolute top-0 end-0 m-3"
                (click)="closeModal()"
                class="z-3"></button>
      </div>

      <!-- Modal Body -->
      <div class="modal-body p-4">

        <!-- Login Form -->
        <div *ngIf="currentTab === 'login'" class="tab-content">
          <app-login
            (switchToRegister)="switchToRegister()"
            (switchToForgotPassword)="switchToForgotPassword()"
            (loginSuccess)="onLoginSuccess()">
          </app-login>
        </div>

        <!-- Register Form -->
        <div *ngIf="currentTab === 'register'" class="tab-content">
          <app-register
            (switchToLogin)="switchToLogin()"
            (registerSuccess)="onRegisterSuccess()">
          </app-register>
        </div>

        <!-- Forgot Password Form -->
        <div *ngIf="currentTab === 'forgot-password'" class="tab-content">
          <app-forgot-password
            (switchToLogin)="switchToLogin()">
          </app-forgot-password>
        </div>

      </div>
    </div>
  </div>
</div>

<!-- Bootstrap Modal Backdrop -->
<div class="modal-backdrop fade"
     [class.show]="isVisible"
     *ngIf="isVisible"
     (click)="onBackdropClick($event)">
</div>
